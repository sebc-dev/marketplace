# Requirements Archive: v0.3 XML Semantic Restructuring

**Archived:** 2026-02-04
**Status:** SHIPPED

This is the archived requirements specification for v0.3.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

# Requirements: Astro Skill v0.3

**Defined:** 2026-02-04
**Core Value:** Claude produit du code Astro/Cloudflare correct du premier coup en appliquant automatiquement les bons patterns et en evitant les pieges connus.

## v0.3 Requirements

### XML Structure

- [x] **XML-01**: Chaque section fonctionnelle des 11 reference files est enveloppee dans un conteneur XML semantique
- [x] **XML-02**: Tags en snake_case, noms descriptifs du contenu (pas du format)
- [x] **XML-03**: 3 conteneurs universels identiques dans les 11 fichiers : `<quick_reference>`, `<anti_patterns>`, `<troubleshooting>`
- [x] **XML-04**: Conteneurs specifiques par domaine pour les sections propres a chaque fichier
- [x] **XML-05**: Structure flat — pas de nesting XML (Markdown headers pour la hierarchie interne)
- [x] **XML-06**: Pas de duplication tag/header — le tag structure, les headers precisent

### Integrity

- [x] **INT-01**: Zero modification de contenu — diff montre uniquement des ajouts de lignes XML
- [x] **INT-02**: Preservation integrale des code blocks fenced (TypeScript, Astro, JSON, YAML, TOML)
- [x] **INT-03**: Preservation integrale des tables Markdown (anti-patterns, troubleshooting, decision matrices)
- [x] **INT-04**: Preservation des MCP callouts (blockquotes) dans leur conteneur parent

### Validation

- [x] **VAL-01**: 102/102 grep patterns de SKILL.md fonctionnels apres chaque fichier restructure
- [x] **VAL-02**: Vocabulaire de tags coherent across les 11 fichiers (meme tag = meme semantique)
- [x] **VAL-03**: Regression complete finale : 102/102 grep patterns PASS sur l'ensemble des fichiers
- [x] **VAL-04**: Token overhead total < 5% (mesure sur le fichier pilote, extrapole)

## Future Requirements

### Extended XML Patterns

- **EXT-01**: Attributs XML pour elements repetes du meme type (si benefice prouve en usage)
- **EXT-02**: Separation explicite `<rules>` / `<examples>` dans les conteneurs mixtes (si Quick Reference evolue)

## Out of Scope

| Feature | Reason |
|---------|--------|
| Attributs XML `name="..."` | Headers Markdown differencient deja, overhead token sans gain mesurable |
| Nesting XML multi-niveaux | Benefices diminuent au-dela de 1 niveau, complexite accrue |
| Modification de contenu | Ce milestone est du reformatage structurel pur |
| Changements SKILL.md | Grep patterns fonctionnent sans modification (tags sur lignes separees) |
| Validation tooling permanent | Script de validation ad-hoc suffit pour 11 fichiers |
| Separation rules/examples | Quick Reference est deja rules-only, pas de melange a separer |

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| XML-01 | Phase 14 | Complete |
| XML-02 | Phase 14 | Complete |
| XML-03 | Phase 13 | Complete |
| XML-04 | Phase 14 | Complete |
| XML-05 | Phase 14 | Complete |
| XML-06 | Phase 14 | Complete |
| INT-01 | Phase 14 | Complete |
| INT-02 | Phase 14 | Complete |
| INT-03 | Phase 14 | Complete |
| INT-04 | Phase 14 | Complete |
| VAL-01 | Phase 15 | Complete |
| VAL-02 | Phase 15 | Complete |
| VAL-03 | Phase 15 | Complete |
| VAL-04 | Phase 12 | Complete |

**Coverage:**
- v0.3 requirements: 14 total
- Shipped: 14/14
- Adjusted: 0
- Dropped: 0

---

## Milestone Summary

**Shipped:** 14 of 14 v0.3 requirements
**Adjusted:** None
**Dropped:** None

---
*Archived: 2026-02-04 as part of v0.3 milestone completion*
