# Requirements Archive: v0.2 MCP Cloudflare

**Archived:** 2026-02-04
**Status:** SHIPPED

This is the archived requirements specification for v0.2.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

# Requirements: Astro Skill v0.2

**Defined:** 2026-02-03
**Core Value:** Claude produit du code Astro/Cloudflare correct du premier coup en appliquant automatiquement les bons patterns et en evitant les pieges connus.

## v0.2 Requirements

Requirements pour le milestone v0.2 MCP Cloudflare. Chaque requirement mappe a une phase du roadmap.

### MCP Core Integration

- [x] **MCP-01**: SKILL.md inclut `search_cloudflare_documentation` dans la section MCP Tools avec instructions d'utilisation
- [x] **MCP-02**: Table de routage three-way dans SKILL.md (Astro MCP / Cloudflare MCP / Skill references) avec criteres clairs pour chaque source
- [x] **MCP-03**: Allowlist explicite de produits Cloudflare in-scope (Workers, KV, D1, R2) avec exclusions documentees
- [x] **MCP-04**: Dual-MCP coordination -- instructions pour Claude sur quand utiliser quel MCP pour les questions d'intersection Astro/Cloudflare
- [x] **MCP-05**: Query templates scopes pour le MCP Cloudflare (ex: "Workers KV put API" plutot que "put API")

### Reference File Callouts

- [x] **REF-01**: Callouts MCP Cloudflare dans `cloudflare-platform.md` pour les bindings API (KV, D1, R2, Workers)
- [x] **REF-02**: Callouts MCP Cloudflare dans `build-deploy.md` pour wrangler et deployment
- [x] **REF-03**: Callouts MCP Cloudflare dans `security-advanced.md` pour les headers et security features Cloudflare
- [x] **REF-04**: Callouts MCP Cloudflare dans `typescript-testing.md` pour les types Workers
- [x] **REF-05**: Extension de la slash command `debug` avec fallback MCP Cloudflare pour les erreurs platform

### Validation

- [x] **VAL-01**: Verification empirique du nom exact de l'outil MCP et de ses parametres
- [x] **VAL-02**: Tests de routage three-way (5 scenarios : pur Astro, pur Cloudflare, intersection, hors scope, ambigu)
- [x] **VAL-03**: Regression v0.1 -- les grep patterns existants fonctionnent toujours, le MCP Astro n'est pas impacte

## Future Requirements

Deferred to later milestones.

### Extended Coverage

- **EXT-01**: Callouts MCP pour Durable Objects (quand le scope s'elargit)
- **EXT-02**: Callouts MCP pour Cloudflare Queues et Workflows
- **EXT-03**: Slash command dediee pour explorer la doc Cloudflare

## Out of Scope

| Feature | Reason |
|---------|--------|
| Couverture Zero Trust / Access / Tunnel | Enterprise features, hors scope TPE/PME |
| Couverture CDN / DNS / Argo | Infrastructure-level, pas dev Astro/Workers |
| Couverture AI / Vectorize / Browser Rendering | Features specialisees, hors scope sites vitrine |
| Nouveau fichier reference dedie MCP | Integration dans fichiers existants suffisante |
| Modification du frontmatter SKILL.md | 996/1024 chars, deja des triggers Cloudflare |

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| MCP-01 | Phase 9 | Complete |
| MCP-02 | Phase 9 | Complete |
| MCP-03 | Phase 9 | Complete |
| MCP-04 | Phase 9 | Complete |
| MCP-05 | Phase 9 | Complete |
| REF-01 | Phase 10 | Complete |
| REF-02 | Phase 10 | Complete |
| REF-03 | Phase 10 | Complete |
| REF-04 | Phase 10 | Complete |
| REF-05 | Phase 10 | Complete |
| VAL-01 | Phase 8 | Complete |
| VAL-02 | Phase 11 | Complete |
| VAL-03 | Phase 11 | Complete |

**Coverage:**
- v0.2 requirements: 13 total
- Mapped to phases: 13
- Unmapped: 0

---

## Milestone Summary

**Shipped:** 13 of 13 v0.2 requirements
**Adjusted:** None -- all requirements shipped as originally defined
**Dropped:** None

---
*Archived: 2026-02-04 as part of v0.2 milestone completion*
